plugins {
    id 'java'
    id "org.openapi.generator" version "4.2.3"
}

group = "com.fdobrotv"
version = "1.0-SNAPSHOT"
sourceCompatibility = JavaVersion.VERSION_11

repositories {
    mavenCentral()
}

dependencies {
    implementation "org.springframework.boot:spring-boot-starter-web:2.2.4.RELEASE"
    implementation "javax.xml.bind:jaxb-api:2.2.11"
    implementation "com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.10.2"
    implementation "org.openapitools:jackson-databind-nullable:0.2.1"
    implementation "javax.validation:validation-api:2.0.1.Final"
    implementation "io.swagger:swagger-annotations:1.6.0"

//    compile "io.springfox:springfox-swagger2:${springfox-version}"
//    compile "io.springfox:springfox-swagger-ui:${springfox-version}"
}

tasks.openApiGenerate {
    generatorName = "spring"
    inputSpec = "$projectDir/specs/elvl.yaml".toString()
    outputDir = "$projectDir".toString()
    apiPackage = "com.fdobrotv.elvl.api"
    invokerPackage = "com.fdobrotv.elvl.invoker"
    modelPackage = "com.fdobrotv.elvl.model"
    configOptions = [
        dateLibrary: "java8"
    ]
}

compileJava.dependsOn(tasks.openApiGenerate)